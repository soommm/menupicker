# 🍚 점심 메뉴 고르기 (카훗 스타일)

같이 밥 먹는 친구들이 **실시간으로 투표**해서 메뉴를 정하고,  
**내 위치 기준**으로 그 메뉴를 파는 음식점 3~5곳을 추천받는 서비스예요.

---

## 📌 서비스 흐름 (쉽게 이해하기)

1. **방 만들기** – 한 명이 "방"을 만들면 고유 링크가 생겨요.
2. **친구들 입장** – 링크를 공유하면 카훗처럼 누구나 들어올 수 있어요.
3. **메뉴 후보 정하기** – 방장이 후보 메뉴를 넣거나, 참가자들이 추가해요.
4. **투표** – 모두가 마음에 드는 메뉴에 투표해요. (실시간 반영)
5. **결과** – 가장 많이 선택된 메뉴가 최종 선정돼요.
6. **음식점 추천** – 선정된 메뉴로, **내 위치** 기준 3~5곳 음식점을 볼 수 있어요.  
   (가격, 리뷰 점수, 위치 표시)

---

## 🛠 사용 기술 (고등학생도 따라 할 수 있게)

| 구분 | 기술 | 설명 |
|------|------|------|
| **백엔드** | Node.js + Express | 서버 로직 (방, 투표 처리) |
| **실시간** | Socket.io | 카훗처럼 여러 명이 동시에 투표할 때 사용 |
| **프론트** | React (Vite) | 화면 구성 (방 만들기, 투표, 결과, 음식점 목록) |
| **음식점 검색** | 카카오 로컬 API | 위치 기반 음식점 검색 (이름, 주소, 거리, 카카오맵 링크 제공. 가격·리뷰는 별도 API로 확장 가능) |

- 처음에는 **10~20명** 사용을 가정했고, 나중에 사용자가 늘어나도 구조를 키우기 쉽게 만들었어요.

---

## 🚀 실행 방법

### ⭐ 한 번에 실행하기 (권장) — "서버에 연결할 수 없어요" 해결

**프로젝트 루트**에서 터미널을 연 뒤, **아래 한 줄만** 입력하세요:

```bash
npm start
```

- **서버(3001)** 를 먼저 켠 다음, 준비되면 **화면(5173)** 이 자동으로 실행돼요.
- 터미널에 `서버가 http://localhost:3001 에서 준비됐어요` 가 보이면, 브라우저에서 **http://localhost:5173** 로 접속하세요.
- 이렇게 하면 "서버에 연결할 수 없어요" 메시지 없이 방 만들기가 동작해요.

**반응이 없을 때**
1. 터미널에서 **프로젝트 폴더**로 이동했는지 확인하세요. (`cd` 로 `260216_2_test` 폴더로 이동)
2. 루트에서 `npm install` 한 번 실행한 뒤 다시 `npm start` 를 입력해 보세요.

### 1) 사전 준비

- **Node.js**가 설치되어 있어야 해요. (설치: https://nodejs.org)
- 터미널에서 아래 명령으로 확인할 수 있어요.  
  `node -v`  
  `npm -v`

### 2) 패키지 설치

```bash
# 루트 폴더에서
npm install

# 서버용 패키지
cd server && npm install && cd ..

# 클라이언트(화면)용 패키지
cd client && npm install && cd ..
```

### 3) 서버 실행

```bash
cd server
npm start
```

- 서버는 **http://localhost:3001** 에서 돌아가요.

### 4) 클라이언트(화면) 실행

**새 터미널**을 열고 (프로젝트 **루트** 또는 **client** 폴더에서):

```bash
# 루트에서 (권장)
npm run dev

# 또는 client 폴더에서
cd client
npm run dev
```

- 터미널에 나온 주소로 접속해요. 보통 **http://localhost:5173** 이에요.
- 포트가 이미 쓰이면 **5174** 등 다른 번호로 나올 수 있어요. 그때는 터미널에 찍힌 주소로 접속하면 돼요.

### 5) 음식점 추천을 쓰려면 (선택)

- [카카오 개발자 사이트](https://developers.kakao.com)에서 앱을 만들고 **REST API 키**를 발급받아요.
- `server` 폴더에 `.env` 파일을 만들고 아래처럼 넣어요.  
  `KAKAO_REST_API_KEY=여기에_발급받은_키`
- 키가 없어도 **투표·결과**까지는 동작하고, 음식점 추천만 “API 키 필요” 메시지로 대체돼요.

---

## 🌐 배포 (다른 사용자 접속)

### A) 정식 배포 — 다른 네트워크 사람도 접속 (인터넷 공개)

**Render.com**에 올리면 전 세계 어디서나 링크 하나로 접속할 수 있어요. (무료 플랜 가능)

#### 1) GitHub에 코드 올리기

- 이 프로젝트를 **GitHub 저장소**에 푸시해 두세요. (이미 올려 두었다면 생략)

#### 2) Render에서 서비스 만들기

1. [Render 대시보드](https://dashboard.render.com) 접속 후 로그인(또는 GitHub로 가입).
2. **New +** → **Blueprint** 선택.
3. **Connect a repository**에서 방금 올린 GitHub 저장소 연결.
4. Render가 저장소 루트의 **`render.yaml`** 을 읽어 서비스를 자동 생성해요.
5. **Apply** 후 배포가 끝날 때까지 기다리면, `https://이름.onrender.com` 형태의 주소가 나와요.

#### 3) 접속 주소 공유

- 배포가 끝나면 **서비스 URL**(예: `https://lunch-menu-vote.onrender.com`)을 친구·동료에게 공유하세요.
- **다른 Wi‑Fi, 다른 지역**에서도 이 링크만 있으면 접속 가능해요.

#### 4) 참고

- **Render 무료 플랜**: 일정 시간 사용이 없으면 서비스가 절전됩니다. 그 후 처음 접속 시 깨우는 데 30초 정도 걸릴 수 있어요.
- **HTTPS**: Render가 자동으로 HTTPS 주소를 줘서, 링크 공유 시 그대로 쓰면 됩니다.

#### 5) (선택) 음식점 추천용 카카오 API 키

- Render 대시보드 → 해당 서비스 → **Environment** 탭에서 **Add Environment Variable**.
- 키: `KAKAO_REST_API_KEY`, 값: 카카오 개발자 콘솔에서 발급한 REST API 키.
- 없어도 **방 만들기·투표·결과**까지는 그대로 동작하고, 음식점 추천만 “API 키 필요”로 나와요.

#### 6) Railway로 배포하고 싶을 때

- [Railway](https://railway.app)에 가입 후 **New Project** → **Deploy from GitHub repo**로 이 저장소 연결.
- **Build Command**: `npm run install:all && npm run build`
- **Start Command**: `npm run start:prod`
- **Root Directory**: 저장소 루트 그대로 두면 돼요. 배포 후 생성된 URL로 접속하면 됩니다.

---

### B) 같은 Wi‑Fi만 접속 (로컬/사무실)

같은 Wi‑Fi를 쓰는 친구·동료만 **내 PC에서 돌리는 앱**에 접속하려면:

**프로젝트 루트**에서:

```bash
npm run deploy
```

- **내 PC**: 브라우저에서 **http://localhost:3001** 로 접속.
- **다른 사람**: 같은 Wi‑Fi에서 **http://(이 PC의 IP):3001** 로 접속 (예: `http://192.168.0.10:3001`).
- Mac에서 IP 확인: 터미널에서 `ipconfig getifaddr en0`

---

## 📁 폴더 구조 (어디에 뭐가 있는지)

```
260216_2_test/
├── README.md          ← 지금 읽고 있는 설명서
├── server/            ← 백엔드 (방, 투표, 음식점 API 연동)
│   ├── index.js       ← 서버 진입점 + Socket.io
│   └── package.json
└── client/            ← 프론트엔드 (화면)
    ├── index.html
    ├── src/
    │   ├── App.jsx
    │   ├── main.jsx
    │   └── ... (화면 컴포넌트들)
    └── package.json
```

---

## ✅ 체크리스트 (내가 원하는 기능이 맞는지)

- [x] 카훗처럼 **여러 사람이 참여**하는 게임 형태
- [x] 같이 식사하는 사람들이 **간편하게 메뉴를 골라서** 결정
- [x] **선정된 메뉴** 기준으로
- [x] **내 위치**를 토대로 **3~5곳** 음식점 추천
- [x] 해당 메뉴의 **가격, 리뷰 점수, 위치** 제공 (API 제공 범위 내)
- [x] 초기 **10~20명** 사용 가정, 사용량 증가 시 확장 가능한 구조

---

## ❓ 실행이 안 될 때

| 증상 | 확인할 것 |
|------|------------|
| **"서버에 연결할 수 없어요"** 얼럿 | 서버(3001)가 꺼져 있어요. **반드시** 터미널에서 루트로 이동한 뒤 `npm run dev:all` 을 실행하세요. (서버만 켜려면 `npm run server`, 그 다음 **다른 터미널**에서 `npm run dev`) |
| `npm run dev` 입력 시 **"Missing script: dev"** | 프로젝트 **루트 폴더**(`260216_2_test`)에서 실행했는지 확인. 루트에서는 `npm run dev` 또는 `npm run client` 사용. |
| 브라우저에서 **localhost:5173** 접속 안 됨 | 터미널에서 **먼저** `npm run dev` 또는 `npm run dev:all`를 실행했는지 확인. 실행 후 터미널에 나온 주소(예: 5173 또는 5174)로 접속. |
| **빈 화면**만 보임 | 백엔드도 켜져 있어야 해요. `npm run dev:all` 사용하거나, 터미널 2개로 `cd server` 후 `npm start` + `npm run dev` 각각 실행. |

---

궁금한 점이나 수정하고 싶은 부분이 있으면 편하게 말해줘!
